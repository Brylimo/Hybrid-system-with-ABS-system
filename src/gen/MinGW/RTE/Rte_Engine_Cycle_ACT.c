/** @file     Rte_Engine_Cycle_ACT.c
  *
  * @brief    RTE Sample SWC implementation skeleton file
  *
  * @note     AUTOMATICALLY GENERATED FILE! DO NOT EDIT!
  *
  * @note     Generated by ETAS GmbH  RTA-RTE v5.10.0  (R4.0 backend version: v7.10.4 (Build 52732))
  */

#include "Rte_Engine_Cycle_ACT.h"
#include "virtualdevices.h"

/* --------------------------------------------------------------------------- */
/* RTE Event: /Engine_Composition/ARPackage_1/Engine_Cycle_ACT/IB_Engine_Cycle_ACT/TimingEvent_0 */


FUNC(void, Engine_Cycle_ACT_CODE) RE_Engine_Cycle_ACT_func(void)
{
	sint8 array [5];
	Rte_Read_CycleData_Rport_infoArray( array );

	int is_on = (int) array[0];
	int pressure = (int)array[1];
	int temperature = ((int)array[2]) *10;
	int target_power = (int) array[3];

	boolean igniteflag =0;
	int fuelValue= 0;
	status_printf("%d %d %d\r\n",is_on, pressure, temperature);
	if(is_on==1 && pressure >=16 && temperature >=500){
		igniteflag = 1;
		fuelValue = target_power ;
	}

	Rte_Call_Engine_Cleintport_set_engine( is_on, igniteflag, fuelValue );
}

